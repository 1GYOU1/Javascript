<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>20_객체에서의_옵셔널체이닝</title>
</head>
<body>
    <h1>객체에서의 옵셔널 체이닝</h1>
    
    <script>
       const user = {
        name : '규원',
        // login : {
        //     id : '1gyou1',
        //     pw : 1234
        // }
       };

        //1) user 객체의 login속성을 주석처리하면 undefined

        // console.log(user.login);
        //{id: '1gyou1', pw: 1234}
        //login속성을 주석처리
        //undefined

        //2) user 객체의 login 속성을 주석처리하면 에러발생 = 실행멈춤
        // console.log(user.login.id);
        //1gyou1
        //login속성을 주석처리
        //에러발생 Uncaught TypeError: Cannot read properties of undefined (reading 'id')

        //3) 문제 = user.login 이 있으면 .id 속성을 출력하기

        //전통적인 방식
        // if(user.login){
        //     console.log(`예전방식으로 출력 - ${user.login.id}`);
        // }
        //예전방식으로 출력 - 1gyou1
        //login 속성 주석처리 후 ↓↓
        //아무것도 출력 X

        //최근 옵셔널 체이닝 방식
        console.log(`최신 방식으로 출력 - ${user.login?.id}`);
        //최신 방식으로 출력 - 1gyou1
        //login 속성 주석처리 후 ↓↓
        //최신 방식으로 출력 - undefined

        /**
             * 옵셔널 체이닝 - 에러발생으로 인한 프로그램 멈춤을 예방하는 코드
                         
             * 점을 두번이상 찍었을 때 ?(물음표) 왼쪽에 있는 값이 null, undefinded 이면 에러가 발생함
             * 왜냐하면 undefined.id, null.id와 같게 되기 때문이다.
              
             * 옵셔널 체이닝 ?(물음표) 사용시 왼쪽에 있는 값이 null, undefinded 이면 오른쪽의 .id를 더이상 실행하지 않고 undefined만 남겨줌 => 결과적으로 에러발생으로 인해 실행이 멈추지 않음
              
             * 복잡하게 중첩된 객체데이터에서 특정 자료를 추출할때 에러발생 없이 안전하게 데이터를 추출할 수 있다.
        */
    </script>
</body>
</html>