<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>150_값복사_참조값복사_DeepCopy_ShallowCopy의_개념</title>
</head>
<body>
    <h1>참조에 의한 객체복사</h1>
    
    <h2>값 복사란?</h2>
    <p>
        두 개의 메모리가 존재하고 한쪽의 메모리에 있는 값이</br>
        다른 메모리로 그 값만을 복사하는 행위를 말한다.</br>
        </br> 
        이 두 개의 메모리는 완전히 독립적인 상태이다.</br>
        우리가 일반적으로 많이 하는 파일복사 값 복사에 해당한다.</br> 
        </br> 
        이렇게 두 변수가 완전히 독립성을 갖는 것을 '깊은복사, Deep Copy'라고 한다.
    </p>

    <hr>

    <h2>참조값 복사란?</h2>
    <p>
        객체변수는 참조변수이며,</br>
        참조변수의 할당은 참조값 값복사가 된다.</br>
        </br> 
        따라서 두 객체 변수는 같은 참조값(주소값)을 가지므로 서로 독립적이지 않다.</br>
        즉, 같은 실체를 가리킨다.
        </br> 
        이런 것을 '얕은 복사, Shallow Copy'라고 한다.</br> 
        </br> 
        -> 주소 타고 값을 가져옴
    </p>
    
    <script>
        //1. primitive 타입의 값복사

        let num = 100;
        let copyNum = num;//100

        copyNum = 200;

        console.log(`num = ${num}`);//100

        console.log('----')

        //2. 주소값을 저장하는 reference type 변수의 작동원리 - 배열, 객체, 함수 ...

        //hong 변수에는 주소값 0x0101이 저장
        const han = {
            name : '규원',
            age  : 27
        }

        console.log(han);
        //{name: '규원', age: 27}

        console.log('----')

        const gyou1 = han;//참조값 복사

        gyou1.name = '뀨'
        gyou1.age = 7;

        console.log(gyou1);
        //{name: '뀨', age: 7}
        console.log(han);
        //{name: '뀨', age: 7}

        console.log('----')
        
        //객체의 깊은 복사는 spread 연산자를 이용하여 가능
        //객체의 깊은 복사는 Object.assign(타겟, 원본);//불변

        const gyou2 = {};
        Object.assign(gyou2, han);

        gyou2.address = '신당동';
        console.log('dyly =', han);//dyly = {name: '뀨', age: 7}
        
        //깊은 복사 ↓↓
        console.log('dyly =', gyou2);//dyly = {name: '뀨', age: 7, address: '신당동'}
        
    </script>
</body>
</html>